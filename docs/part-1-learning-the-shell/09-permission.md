# 9. 许可

Unix 传统的操作系统区别于 MS-DOS 传统的，不仅仅在于<u>多任务</u>（*multitasking*），而且在于<u>多用户</u>（*multi-user*）。

这意味着什么呢？意味着在同一时间，允许多个用户使用计算机。典型的计算机只有一个键盘和监视器，不过仍允许多个用户使用。例如，如果一台计算机连接到一个网络或者互联网，远程用户可以通过 `ssh`（secure shell）登录并操作计算机。实际上，远程用户能执行图形应用，可以将图形输出显示到远程桌面。X 窗口系统作为其基本设计的一部分，支持该操作。

Linux 的多用户能力不是新近的「创新」，而是深深嵌入到操作系统的设计之中的一个特性。考虑创造 Unix 时的环境因素，这一点非常有意义。在计算机成为「个人」的多年之前，它们大而昂贵，而且是集中化的。一个典型的大学计算机系统，例如，由一个位于一个建筑内的大型中央计算机和遍布校园的连接到大型中央计算机的终端所组成。计算机会在同一时间支持多个用户。

要做到这一点，必须设计一个方案以各自保护用户。然后，一个用户的行为不会导致计算机崩溃，也不会干预属于其他用户的文件。

本章中，我们要看一下系统安全的基本内容，介绍下列命令：

- `id` 显示用户身份
- `chmod` 变更文件的模式
- `umask` 设置缺省情况下的文件许可
- `su` 以另一个用户运行 shell
- `sudo` 以另一个用户执行一个命令
- `chown` 变更文件属主
- `chgrp` 变更文件属组
- `passwd` 变更用户密码

## 属主、组成员、其他人

第 3 章中，当我们浏览系统，试着检查一个文件，如 `/etc/shadow` 时，我们可能就遇到一个问题。

```bash
[me@linuxbox ~]$ file /etc/shadow
/etc/shadow: regular file, no read permission
[me@linuxbox ~]$ less /etc/shadow
/etc/shadow: Permission denied
```

这个错误的原因是，作为一个普通用户，我们读取这个文件的许可。

在 Unix 安全模型中，

## 读、写、执行



### chmod - 改变文件模式



### 用图形界面设置文件模式



### umask - 设置默认许可



## 变更身份



### su - 用替代用户和组身份运行 shell



### sudo - 以另一个用户的身份执行命令



### chown - 变更文件的属主和组



### chgrp - 变更组的属主



## 优先权练习



## 变更密码



## 总结



## 扩展阅读

